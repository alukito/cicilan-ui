import{r as J,f as H,s as W,d as X,h as L,i as Y,e as Z}from"../chunks/scheduler.DLxZbJLG.js";import{a as K,t as G,S as $,i as ee,e as S,s as j,c as x,d as O,y as N,h as z,g as E,o as v,j as Q,k as w,z as P,A as V,B as te,n as se,b as ne,f as le,l as ae,C as q,q as oe}from"../chunks/index.Haax2Tz4.js";function A(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function re(t,s){K(t,1,1,()=>{s.delete(t.key)})}function ie(t,s,e,c,h,l,o,m,d,r,n,p){let u=t.length,y=l.length,_=u;const b={};for(;_--;)b[t[_].key]=_;const k=[],U=new Map,I=new Map,i=[];for(_=y;_--;){const f=p(h,l,_),C=e(f);let M=o.get(C);M?i.push(()=>M.p(f,s)):(M=r(C,f),M.c()),U.set(C,k[_]=M),C in b&&I.set(C,Math.abs(_-b[C]))}const a=new Set,g=new Set;function T(f){G(f,1),f.m(m,n),o.set(f.key,f),n=f.first,y--}for(;u&&y;){const f=k[y-1],C=t[u-1],M=f.key,B=C.key;f===C?(n=f.first,u--,y--):U.has(B)?!o.has(M)||a.has(M)?T(f):g.has(B)?u--:I.get(M)>I.get(B)?(g.add(M),T(f)):(a.add(B),u--):(d(C,o),u--)}for(;u--;){const f=t[u];U.has(f.key)||d(f,o)}for(;y;)T(k[y-1]);return J(i),k}const ce=!0,_e=Object.freeze(Object.defineProperty({__proto__:null,prerender:ce},Symbol.toStringTag,{value:"Module"}));function ue(t){const s=t-1;return s*s*s+1}function D(t,{delay:s=0,duration:e=400,easing:c=ue,x:h=0,y:l=0,opacity:o=0}={}){const m=getComputedStyle(t),d=+m.opacity,r=m.transform==="none"?"":m.transform,n=d*(1-o),[p,u]=H(h),[y,_]=H(l);return{delay:s,duration:e,easing:c,css:(b,k)=>`
			transform: ${r} translate(${(1-b)*p}${u}, ${(1-b)*y}${_});
			opacity: ${d-n*k}`}}const fe="https://onrender.com/alukito";function R(t,s,e){const c=t.slice();return c[6]=s[e],c[8]=e,c}function F(t,s){let e,c,h=s[6].text+"",l,o,m,d,r;return{key:t,first:null,c(){e=S("div"),c=S("div"),l=ne(h),o=j(),this.h()},l(n){e=x(n,"DIV",{class:!0});var p=O(e);c=x(p,"DIV",{class:!0});var u=O(c);l=le(u,h),u.forEach(E),o=z(p),p.forEach(E),this.h()},h(){v(c,"class","message-content svelte-yncmep"),v(e,"class",m=L(`message ${s[6].isUser?"user-message":"bot-message"}`)+" svelte-yncmep"),this.first=e},m(n,p){Q(n,e,p),w(e,c),w(c,l),w(e,o),r=!0},p(n,p){s=n,(!r||p&2)&&h!==(h=s[6].text+"")&&ae(l,h),(!r||p&2&&m!==(m=L(`message ${s[6].isUser?"user-message":"bot-message"}`)+" svelte-yncmep"))&&v(e,"class",m)},i(n){r||(n&&Y(()=>{r&&(d||(d=q(e,D,{y:20,duration:300},!0)),d.run(1))}),r=!0)},o(n){n&&(d||(d=q(e,D,{y:20,duration:300},!1)),d.run(0)),r=!1},d(n){n&&E(e),n&&d&&d.end()}}}function he(t){let s,e,c="Chat with Bot",h,l,o=[],m=new Map,d,r,n,p,u,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></svg>',_,b,k,U=A(t[1]);const I=i=>i[8];for(let i=0;i<U.length;i+=1){let a=R(t,U,i),g=I(a);m.set(g,o[i]=F(g,a))}return{c(){s=S("main"),e=S("h1"),e.textContent=c,h=j(),l=S("div");for(let i=0;i<o.length;i+=1)o[i].c();d=j(),r=S("form"),n=S("input"),p=j(),u=S("button"),u.innerHTML=y,this.h()},l(i){s=x(i,"MAIN",{class:!0});var a=O(s);e=x(a,"H1",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-unhz2v"&&(e.textContent=c),h=z(a),l=x(a,"DIV",{class:!0});var g=O(l);for(let f=0;f<o.length;f+=1)o[f].l(g);g.forEach(E),d=z(a),r=x(a,"FORM",{class:!0});var T=O(r);n=x(T,"INPUT",{type:!0,placeholder:!0,class:!0}),p=z(T),u=x(T,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),N(u)!=="svelte-u283zq"&&(u.innerHTML=y),T.forEach(E),a.forEach(E),this.h()},h(){v(e,"class","svelte-yncmep"),v(l,"class","chat-container svelte-yncmep"),v(n,"type","text"),v(n,"placeholder","Type your message..."),v(n,"class","svelte-yncmep"),v(u,"type","submit"),v(u,"class","svelte-yncmep"),v(r,"class","svelte-yncmep"),v(s,"class","svelte-yncmep")},m(i,a){Q(i,s,a),w(s,e),w(s,h),w(s,l);for(let g=0;g<o.length;g+=1)o[g]&&o[g].m(l,null);t[4](l),w(s,d),w(s,r),w(r,n),P(n,t[2]),w(r,p),w(r,u),_=!0,b||(k=[V(n,"input",t[5]),V(r,"submit",te(t[3]))],b=!0)},p(i,[a]){a&2&&(U=A(i[1]),oe(),o=ie(o,a,I,1,i,U,m,l,re,F,null,R),se()),a&4&&n.value!==i[2]&&P(n,i[2])},i(i){if(!_){for(let a=0;a<U.length;a+=1)G(o[a]);_=!0}},o(i){for(let a=0;a<o.length;a+=1)K(o[a]);_=!1},d(i){i&&E(s);for(let a=0;a<o.length;a+=1)o[a].d();t[4](null),b=!1,J(k)}}}function de(t,s,e){let c=[],h="",l;async function o(){if(!h.trim())return;e(1,c=[...c,{text:h,isUser:!0}]);const r=h;e(2,h="");try{const p=await(await fetch(fe+"/mortgage/invoke",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{query:r}})})).json();e(1,c=[...c,{text:p.output.response,isUser:!1}])}catch(n){console.error("Error fetching bot response:",n),e(1,c=[...c,{text:"Sorry, I encountered an error.",isUser:!1}])}}X(()=>{l&&e(0,l.scrollTop=l.scrollHeight,l)});function m(r){Z[r?"unshift":"push"](()=>{l=r,e(0,l)})}function d(){h=this.value,e(2,h)}return t.$$.update=()=>{t.$$.dirty&1&&l&&e(0,l.scrollTop=l.scrollHeight,l)},[l,c,h,o,m,d]}class ge extends ${constructor(s){super(),ee(this,s,de,he,W,{})}}export{ge as component,_e as universal};
